# Ассемблер для 8-битного процессора

## Описание проекта

Этот ассемблер преобразует текстовый код на ассемблере в бинарный машинный код для 8-битного процессора с определенной архитектурой. Проект включает:

- Лексер/парсер для обработки ассемблерного кода
- Генератор машинного кода
- Поддержку меток и директив
- Проверку ошибок и предупреждения

## Особенности

✅ **Полная поддержка ISA**:

- Все регистровые операции (MOV, ADD, SUB, AND, OR, XOR)
- Работа с памятью и портами ввода-вывода
- Команды управления потоком выполнения

✅ **Гибкая система адресации**:

- Поддержка меток (labels)
- Директива `ORG` для указания адреса размещения
- Относительные и абсолютные переходы

✅ **Двухпроходная компиляция**:

1. Первый проход: построение таблицы символов
2. Второй проход: генерация машинного кода

✅ **Проверка ошибок**:

- Синтаксические ошибки
- Неизвестные команды
- Переполнение значений
- Повторяющиеся метки

## Установка и использование

1. Клонируйте репозиторий:

```bash
git clone https://github.com/yourusername/8bit-assembler.git
cd 8bit-assembler
```

Запустите ассемблер

```bash
python assembler.py input.asm output.bin
```

Где:

- `input.asm` - исходный файл на ассемблере
- `output.bin` - выходной бинарный файл

## Пример программы

```ASM
ORG 0x0000
MAIN:
    EI              ; Разрешаем прерывания
    MOV A, 0x55
    OUT 0x01, A     ; Выводим значение в порт 0x01
LOOP:
    JMP LOOP        ; Бесконечный цикл

ORG 0x1000
INTHANDLER:
    IN A, 0x00     ; Читаем данные из порта 0x00
    ADD A, 1
    OUT 0x01, A    ; Выводим результат в порт 0x01
    RETI           ; Возврат из прерывания

ORG 0xFFFE         ; Вектор прерываний
    JMP INTHANDLER   ; Адрес обработчика прерываний`
```

## Форматы команд

### Регистровые операции (RR)

```
[7:6] - код операции
[5:4] - регистр назначения
[3:2] - регистр источника
[1:0] - 00 (формат RR)
```

### Непосредственные значения (IMM8)

```
[7:6] - код операции
[5:4] - регистр назначения
[3:0] - 01 (формат IMM8)
Следующий байт - значение
```

### Команды с адресом

```
Первый байт - код операции
Следующие 2 байта - адрес (Big Endian)
```

## Ограничения

- Адресное пространство: 16 бит (0x0000-0xFFFF)
- Адреса ввода\вывода: 8 бит (0x00-0xFF)
- Доступно 4 регистра общего назначения (A, B, C, D)

## Лицензия

Этот проект распространяется под лицензией MIT. См. файл [LICENSE](LICENSE) для подробной информации.

## Вклад в проект

Приветствуются pull requests. Для крупных изменений, пожалуйста, сначала откройте issue для обсуждения.

## Контакты

Автор: Darkness
TG: @Letmeto
GitHub: [@Teimir](https://github.com/Teimir)
