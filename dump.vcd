$date
	Sun Mar 30 03:19:38 2025
$end
$version
	Icarus Verilog
$end
$timescale
	1ps
$end
$scope module tb_processor $end
$var parameter 32 ! CLK_PERIOD $end
$var reg 1 " clk $end
$var reg 1 # rst $end
$scope module dut $end
$var wire 1 " clk_i $end
$var wire 8 $ io_data_i [7:0] $end
$var wire 1 % irq $end
$var wire 1 # rst_i $end
$var wire 1 & ram_we $end
$var wire 8 ' ram_data_to_r_line [7:0] $end
$var wire 8 ( ram_data_from_r_line [7:0] $end
$var wire 16 ) ram_address_line [15:0] $end
$scope module u0 $end
$var wire 1 " clk_i $end
$var wire 1 # rst_i $end
$var wire 1 & we_i $end
$var wire 8 * data_i [7:0] $end
$var wire 16 + address_i [15:0] $end
$var reg 8 , data_o [7:0] $end
$upscope $end
$scope module u1 $end
$var wire 1 " clk_i $end
$var wire 8 - data_i [7:0] $end
$var wire 8 . imm8 [7:0] $end
$var wire 8 / io_data_i [7:0] $end
$var wire 1 % irq_i $end
$var wire 1 # rst_i $end
$var wire 2 0 reg2 [1:0] $end
$var wire 2 1 reg1 [1:0] $end
$var wire 4 2 opcode [3:0] $end
$var wire 16 3 addr16 [15:0] $end
$var parameter 4 4 DECODE_S $end
$var parameter 4 5 EXEC_S $end
$var parameter 4 6 FETCH2_S $end
$var parameter 4 7 FETCH3_S $end
$var parameter 4 8 FETCH_S $end
$var parameter 32 9 FLAG_C $end
$var parameter 32 : FLAG_IF $end
$var parameter 32 ; FLAG_S $end
$var parameter 32 < FLAG_V $end
$var parameter 32 = FLAG_Z $end
$var parameter 4 > HALT_S $end
$var parameter 4 ? IDLE_S $end
$var parameter 4 @ INT_JUMP_S $end
$var parameter 4 A INT_SAVE_S $end
$var parameter 16 B IVT_ADDR $end
$var parameter 4 C MEM_S $end
$var parameter 4 D V_S $end
$var parameter 4 E WB_S $end
$var reg 16 F PC [15:0] $end
$var reg 16 G SP [15:0] $end
$var reg 16 H address_o [15:0] $end
$var reg 8 I alu_result [7:0] $end
$var reg 9 J alu_result_ext [8:0] $end
$var reg 8 K data_o [7:0] $end
$var reg 8 L flags [7:0] $end
$var reg 1 M halt $end
$var reg 8 N instruction [7:0] $end
$var reg 8 O instruction_2nd_byte [7:0] $end
$var reg 8 P instruction_3rd_byte [7:0] $end
$var reg 8 Q int_save_flags [7:0] $end
$var reg 16 R int_save_pc [15:0] $end
$var reg 8 S io_addr_o [7:0] $end
$var reg 8 T io_data_o [7:0] $end
$var reg 1 U io_we_o $end
$var reg 4 V state [3:0] $end
$var reg 1 & we_i $end
$upscope $end
$upscope $end
$upscope $end
$enddefinitions $end
$comment Show the parameter values. $end
$dumpall
b111 E
b1011 D
b110 C
b1111111111111110 B
b1000 A
b1001 @
b0 ?
b1010 >
b0 =
b10 <
b11 ;
b100 :
b1 9
b1 8
b100 7
b11 6
b101 5
b10 4
b1010 !
$end
#0
$dumpvars
b0 V
0U
bx T
bx S
bx R
bx Q
bx P
bx O
bx N
xM
b0 L
bx K
bx J
bx I
b0 H
b1111111111111111 G
b0 F
bx 3
bx 2
bx 1
bx 0
bz /
bx .
bx -
bx ,
b0 +
bx *
b0 )
bx (
bx '
0&
0%
bz $
1#
0"
$end
#5000
b1110000 (
b1110000 ,
b1110000 -
0M
1"
#10000
0"
#15000
1"
#20000
0"
#25000
b1 V
1"
0#
#30000
0"
#35000
b111 2
b0 1
b0 0
b10 V
b1110000 N
1"
#40000
0"
#45000
b1 )
b1 +
b1 H
b1011 V
b1 F
1"
#50000
0"
#55000
b1010101 (
b1010101 ,
b1010101 -
b11 V
1"
#60000
0"
#65000
b101 V
b1010101xxxxxxxx 3
b1010101 .
b1010101 O
1"
#70000
0"
#75000
b111 V
b1010101 I
1"
#80000
0"
#85000
b10 )
b10 +
b10 H
b0 V
b10 F
1"
#90000
0"
#95000
b10100 (
b10100 ,
b10100 -
b1 V
1"
#100000
0"
#105000
b1 2
b1 1
b10 V
b10100 N
1"
#110000
0"
#115000
b101 V
1"
#120000
0"
#125000
b111 V
1"
#130000
0"
#135000
b11 )
b11 +
b11 H
b0 V
b11 F
1"
#140000
0"
#145000
b100001 (
b100001 ,
b100001 -
b1 V
1"
#150000
0"
#155000
b10 2
b0 1
b1 0
b10 V
b100001 N
1"
#160000
0"
#165000
b101 V
1"
#170000
0"
#175000
b111 V
b10101010 J
1"
#180000
0"
#185000
b100 )
b100 +
b100 H
b0 V
b100 F
b1100 L
1"
#190000
0"
#195000
b1110000 (
b1110000 ,
b1110000 -
b1 V
1"
#200000
0"
#205000
b111 2
b0 0
b10 V
b1110000 N
1"
#210000
0"
#215000
b101 )
b101 +
b101 H
b1011 V
b101 F
1"
#220000
0"
#225000
b101 (
b101 ,
b101 -
b11 V
1"
#230000
0"
#235000
b101 V
b101xxxxxxxx 3
b101 .
b101 O
1"
#240000
0"
#245000
b111 V
b101 I
1"
#250000
0"
#255000
b110 )
b110 +
b110 H
b0 V
b110 F
1"
#260000
0"
#265000
b1110001 (
b1110001 ,
b1110001 -
b1 V
1"
#270000
0"
#275000
b1 0
b10 V
b1110001 N
1"
#280000
0"
#285000
b111 )
b111 +
b111 H
b1011 V
b111 F
1"
#290000
0"
#295000
b11 (
b11 ,
b11 -
b11 V
1"
#300000
0"
#305000
b101 V
b11xxxxxxxx 3
b11 .
b11 O
1"
#310000
0"
#315000
b111 V
b11 I
1"
#320000
0"
#325000
b1000 )
b1000 +
b1000 H
b0 V
b1000 F
1"
#330000
0"
#335000
b1110010 (
b1110010 ,
b1110010 -
b1 V
1"
#340000
0"
#345000
b10 0
b10 V
b1110010 N
1"
#350000
0"
#355000
b1001 )
b1001 +
b1001 H
b1011 V
b1001 F
1"
#360000
0"
#365000
b11111111 (
b11111111 ,
b11111111 -
b11 V
1"
#370000
0"
#375000
b101 V
b11111111xxxxxxxx 3
b11111111 .
b11111111 O
1"
#380000
0"
#385000
b111 V
b11111111 I
1"
#390000
0"
#395000
b1010 )
b1010 +
b1010 H
b0 V
b1010 F
1"
#400000
0"
#405000
b1110011 (
b1110011 ,
b1110011 -
b1 V
1"
#410000
0"
#415000
b11 0
b10 V
b1110011 N
1"
#420000
0"
#425000
b1011 )
b1011 +
b1011 H
b1011 V
b1011 F
1"
#430000
0"
#435000
b1 (
b1 ,
b1 -
b11 V
1"
#440000
0"
#445000
b101 V
b1xxxxxxxx 3
b1 .
b1 O
1"
#450000
0"
#455000
b111 V
b1 I
1"
#460000
0"
#465000
b1100 )
b1100 +
b1100 H
b0 V
b1100 F
1"
#470000
0"
#475000
b100001 (
b100001 ,
b100001 -
b1 V
1"
#480000
0"
#485000
b10 2
b1 0
b10 V
b100001 N
1"
#490000
0"
#495000
b101 V
1"
#500000
0"
#505000
b111 V
b1000 J
1"
#510000
0"
#515000
b1101 )
b1101 +
b1101 H
b0 V
b1101 F
b0 L
1"
#520000
0"
#525000
b110111 (
b110111 ,
b110111 -
b1 V
1"
#530000
0"
#535000
b11 2
b1 1
b11 0
b10 V
b110111 N
1"
#540000
0"
#545000
b101 V
1"
#550000
0"
#555000
b111 V
b10 J
1"
#560000
0"
#565000
b1110 )
b1110 +
b1110 H
b0 V
b1110 F
1"
#570000
0"
#575000
b1000001 (
b1000001 ,
b1000001 -
b1 V
1"
#580000
0"
#585000
b100 2
b0 1
b1 0
b10 V
b1000001 N
1"
#590000
0"
#595000
b101 V
1"
#600000
0"
#605000
b111 V
b0 I
1"
#610000
0"
#615000
b1111 )
b1111 +
b1111 H
b0 V
b1111 F
b1 L
1"
#620000
0"
#625000
b1011011 (
b1011011 ,
b1011011 -
b1 V
1"
#630000
0"
#635000
b101 2
b10 1
b11 0
b10 V
b1011011 N
1"
#640000
0"
#645000
b101 V
1"
#650000
0"
#655000
b111 V
b11111111 I
1"
#660000
0"
#665000
b10000 )
b10000 +
b10000 H
b0 V
b10000 F
b1000 L
1"
#670000
0"
#675000
b1100010 (
b1100010 ,
b1100010 -
b1 V
1"
#680000
0"
#685000
b110 2
b0 1
b10 0
b10 V
b1100010 N
1"
#690000
0"
#695000
b101 V
1"
#700000
0"
#705000
b111 V
1"
#710000
0"
#715000
b10001 )
b10001 +
b10001 H
b0 V
b10001 F
1"
#720000
0"
#725000
b1110000 (
b1110000 ,
b1110000 -
b1 V
1"
#730000
0"
#735000
b111 2
b0 0
b10 V
b1110000 N
1"
#740000
0"
#745000
b10010 )
b10010 +
b10010 H
b1011 V
b10010 F
1"
#750000
0"
#755000
b11111111 (
b11111111 ,
b11111111 -
b11 V
1"
#760000
0"
#765000
b101 V
b11111111xxxxxxxx 3
b11111111 .
b11111111 O
1"
#770000
0"
#775000
b111 V
1"
#780000
0"
#785000
b10011 )
b10011 +
b10011 H
b0 V
b10011 F
1"
#790000
0"
#795000
b1110010 (
b1110010 ,
b1110010 -
b1 V
1"
#800000
0"
#805000
b10 0
b10 V
b1110010 N
1"
#810000
0"
#815000
b10100 )
b10100 +
b10100 H
b1011 V
b10100 F
1"
#820000
0"
#825000
b10001 (
b10001 ,
b10001 -
b11 V
1"
#830000
0"
#835000
b101 V
b10001xxxxxxxx 3
b10001 .
b10001 O
1"
#840000
0"
#845000
b111 V
b10001 I
1"
#850000
0"
#855000
b10101 )
b10101 +
b10101 H
b0 V
b10101 F
1"
#860000
0"
#865000
b100010 (
b100010 ,
b100010 -
b1 V
1"
#870000
0"
#875000
b10 2
b10 V
b100010 N
1"
#880000
0"
#885000
b101 V
1"
#890000
0"
#895000
b111 V
b100010000 J
1"
#900000
0"
#905000
b10110 )
b10110 +
b10110 H
b0 V
b10110 F
b10 L
1"
#910000
0"
#915000
b11101111 (
b11101111 ,
b11101111 -
b1 V
1"
#920000
0"
#925000
b1110 2
b11 1
b11 0
b10 V
b11101111 N
1"
#930000
0"
#935000
b101 V
1"
#940000
0"
#945000
1M
b1010 V
1"
#950000
0"
#955000
1"
